import React, { useState, useEffect } from "react";
import { Card } from "./Card";
import { Preview } from "./Preview";
export const Background = () => {
  const date = new Date();
  const [productData, setProductData] = useState([]);
  const [showFloat, setShowFloat] = useState(false);
  const [SendMail, setSendMail] = useState(false);

  useEffect(() => {
    fetch(" https://api.escuelajs.co/api/v1/products")
      .then((res) => res.json())
      .then((data) => setProductData(data))
      .catch((error) => console.error("Error fetching data:", error));
  }, []);

  const handleToggle = () => {
    setShowFloat(!showFloat);
  };
  const Mail = () => {
    setSendMail(!SendMail);
  };
  return (
    <>
      <div className={`float ${showFloat ? "visible" : ""}`}>
        <div className="Heading-Template">
          <h1>Create Template</h1>
        </div>
        <div className="text">
          <input type="text" placeholder="Enter text" />
        </div>
        <div className="file">
          <input type="file" />
        </div>

        <div className="button">
          <button className="cancel" onClick={handleToggle}>
            Cancel
          </button>
          <button className="createtemp" onClick={handleToggle}>
            Sumbit
          </button>
        </div>
      </div>

      <div className={`background ${showFloat ? "body-blur" : ""}`}>
        <div className="top">
          <div className="top">
            <div className="search1">
              <input
                className="search"
                type="search"
                placeholder="Search Templates"
              />
            </div>
            <div className="right">
              <div className="attachment">
                <a href="#">
                  <svg
                    onClick={handleToggle}
                    xmlns="http://www.w3.org/2000/svg"
                    width="50"
                    height="50"
                    viewBox="0 0 32 33"
                    fill="none"
                  >
                    <path
                      d="M17.6 14.85V8.25H14.4V14.85H8V18.15H14.4V24.75H17.6V18.15H24V14.85H17.6ZM16 33C11.7565 33 7.68687 31.2616 4.68629 28.1673C1.68571 25.0729 0 20.8761 0 16.5C0 12.1239 1.68571 7.92709 4.68629 4.83274C7.68687 1.73839 11.7565 0 16 0C20.2435 0 24.3131 1.73839 27.3137 4.83274C30.3143 7.92709 32 12.1239 32 16.5C32 20.8761 30.3143 25.0729 27.3137 28.1673C24.3131 31.2616 20.2435 33 16 33Z"
                      fill="#3D63F7"
                    />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
        <div className="main-wrap">
          <div className="card-flex">
            {productData.map((data) => (
              <Card
                key={data.id}
                title={data.title}
                description={data.description}
                productId={data.id}
                productName={data.title}
              />
            ))}
          </div>
          <div className="preview">
            <div className="top-preview">
              <div className="previewtitle">
                <h1>Preview</h1>
              </div>
              <div className="button-wrapper">
                <span title="Upload Excel" className="upload">
                  <button>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="30"
                      height="30"
                      viewBox="0 0 25 25"
                      fill="none"
                    >
                      <path
                        d="M15.2976 11.9922L6.6499 10.4688V21.7258C6.65 21.8481 6.67419 21.9692 6.72109 22.0821C6.76798 22.195 6.83666 22.2976 6.92321 22.384C7.00976 22.4704 7.11248 22.539 7.2255 22.5857C7.33852 22.6324 7.45964 22.6564 7.58193 22.6563H22.5038C22.6262 22.6566 22.7475 22.6327 22.8607 22.5861C22.9739 22.5395 23.0768 22.471 23.1635 22.3846C23.2503 22.2982 23.3191 22.1955 23.3661 22.0825C23.4131 21.9694 23.4373 21.8482 23.4374 21.7258V17.5781L15.2976 11.9922Z"
                        fill="#185C37"
                      />
                      <path
                        d="M15.2976 2.34375H7.58193C7.45964 2.34365 7.33852 2.36763 7.2255 2.41434C7.11248 2.46104 7.00976 2.52955 6.92321 2.61595C6.83666 2.70236 6.76798 2.80496 6.72109 2.9179C6.67419 3.03085 6.65 3.15193 6.6499 3.27422V7.42188L15.2976 12.5L19.8765 14.0234L23.4374 12.5V7.42188L15.2976 2.34375Z"
                        fill="#21A366"
                      />
                      <path
                        d="M6.6499 7.42188H15.2976V12.5H6.6499V7.42188Z"
                        fill="#107C41"
                      />
                      <path
                        opacity="0.1"
                        d="M12.839 6.40625H6.6499V19.1016H12.839C13.0856 19.1003 13.3218 19.002 13.4964 18.8278C13.671 18.6537 13.7699 18.4177 13.7718 18.1711V7.33672C13.7699 7.09011 13.671 6.85416 13.4964 6.67999C13.3218 6.50583 13.0856 6.40748 12.839 6.40625Z"
                        fill="black"
                      />
                      <path
                        opacity="0.2"
                        d="M12.3304 6.91406H6.6499V19.6094H12.3304C12.577 19.6081 12.8132 19.5098 12.9878 19.3356C13.1624 19.1615 13.2613 18.9255 13.2632 18.6789V7.84453C13.2613 7.59792 13.1624 7.36197 12.9878 7.18781C12.8132 7.01364 12.577 6.91529 12.3304 6.91406Z"
                        fill="black"
                      />
                      <path
                        opacity="0.2"
                        d="M12.3304 6.91406H6.6499V18.5937H12.3304C12.577 18.5925 12.8132 18.4942 12.9878 18.32C13.1624 18.1458 13.2613 17.9099 13.2632 17.6633V7.84453C13.2613 7.59792 13.1624 7.36197 12.9878 7.18781C12.8132 7.01364 12.577 6.91529 12.3304 6.91406Z"
                        fill="black"
                      />
                      <path
                        opacity="0.2"
                        d="M11.8218 6.91406H6.6499V18.5937H11.8218C12.0684 18.5925 12.3046 18.4942 12.4792 18.32C12.6538 18.1458 12.7527 17.9099 12.7546 17.6633V7.84453C12.7527 7.59792 12.6538 7.36197 12.4792 7.18781C12.3046 7.01364 12.0684 6.91529 11.8218 6.91406Z"
                        fill="black"
                      />
                      <path
                        d="M2.49531 6.91406H11.8219C12.0689 6.91386 12.306 7.01175 12.4809 7.18622C12.6558 7.36069 12.7543 7.59748 12.7547 7.84453V17.1555C12.7543 17.4025 12.6558 17.6393 12.4809 17.8138C12.306 17.9883 12.0689 18.0861 11.8219 18.0859H2.49531C2.37295 18.0861 2.25175 18.0622 2.13864 18.0156C2.02553 17.9689 1.92272 17.9004 1.83609 17.814C1.74946 17.7276 1.6807 17.625 1.63376 17.512C1.58682 17.399 1.5626 17.2778 1.5625 17.1555V7.84453C1.5626 7.72217 1.58682 7.60103 1.63376 7.48804C1.6807 7.37504 1.74946 7.2724 1.83609 7.18599C1.92272 7.09958 2.02553 7.03109 2.13864 6.98443C2.25175 6.93777 2.37295 6.91386 2.49531 6.91406Z"
                        fill="url(#paint0_linear_634_10)"
                      />
                      <path
                        d="M4.45312 15.5258L6.41484 12.4914L4.61797 9.47424H6.06094L7.04141 11.4063C7.13203 11.5891 7.19766 11.725 7.22734 11.8156H7.24062C7.30469 11.6688 7.37266 11.5274 7.44375 11.3891L8.49219 9.47737H9.82031L7.97734 12.4774L9.86719 15.5281H8.45391L7.32109 13.4102C7.2685 13.3191 7.2238 13.2237 7.1875 13.125H7.16875C7.13572 13.2212 7.09168 13.3132 7.0375 13.3992L5.87109 15.5258H4.45312Z"
                        fill="white"
                      />
                      <path
                        d="M22.5049 2.34375H15.2979V7.42188H23.4377V3.27422C23.4376 3.15186 23.4134 3.03072 23.3664 2.91772C23.3195 2.80473 23.2507 2.70209 23.1641 2.61568C23.0775 2.52927 22.9747 2.46077 22.8616 2.41411C22.7484 2.36746 22.6272 2.34355 22.5049 2.34375Z"
                        fill="#33C481"
                      />
                      <path
                        d="M15.2979 12.5H23.4377V17.5781H15.2979V12.5Z"
                        fill="#107C41"
                      />
                      <defs>
                        <linearGradient
                          id="paint0_linear_634_10"
                          x1="3.51094"
                          y1="6.18281"
                          x2="10.8062"
                          y2="18.8172"
                          gradientUnits="userSpaceOnUse"
                        >
                          <stop stop-color="#18884F" />
                          <stop offset="0.5" stop-color="#393939" />
                          <stop offset="1" stop-color="#0B6631" />
                        </linearGradient>
                      </defs>
                    </svg>
                  </button>
                </span>

                <span className="upload">
                  <button title="Upload Attachment">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="30"
                      height="30"
                      viewBox="0 0 35 35"
                      fill="none"
                    >
                      <g clip-path="url(#clip0_651_16)">
                        <path
                          d="M20.4165 0C22.3504 0 24.205 0.768227 25.5725 2.13568C26.9399 3.50313 27.7082 5.3578 27.7082 7.29167V24.7917C27.7082 26.1322 27.4441 27.4597 26.9311 28.6982C26.4181 29.9368 25.6662 31.0621 24.7182 32.01C23.7703 32.958 22.6449 33.7099 21.4064 34.2229C20.1679 34.736 18.8404 35 17.4998 35C16.1593 35 14.8318 34.736 13.5933 34.2229C12.3547 33.7099 11.2294 32.958 10.2815 32.01C9.33352 31.0621 8.58158 29.9368 8.06857 28.6982C7.55555 27.4597 7.2915 26.1322 7.2915 24.7917V13.125H10.2082V24.7917C10.2082 26.7255 10.9764 28.5802 12.3439 29.9477C13.7113 31.3151 15.566 32.0833 17.4998 32.0833C19.4337 32.0833 21.2884 31.3151 22.6558 29.9477C24.0233 28.5802 24.7915 26.7255 24.7915 24.7917V7.29167C24.7915 6.71713 24.6783 6.14823 24.4585 5.61743C24.2386 5.08663 23.9164 4.60433 23.5101 4.19807C23.1038 3.79182 22.6215 3.46956 22.0907 3.24969C21.5599 3.02983 20.991 2.91667 20.4165 2.91667C19.842 2.91667 19.2731 3.02983 18.7423 3.24969C18.2115 3.46956 17.7292 3.79182 17.3229 4.19807C16.9167 4.60433 16.5944 5.08663 16.3745 5.61743C16.1547 6.14823 16.0415 6.71713 16.0415 7.29167V24.7917C16.0415 25.1784 16.1951 25.5494 16.4686 25.8229C16.7421 26.0964 17.1131 26.25 17.4998 26.25C17.8866 26.25 18.2575 26.0964 18.531 25.8229C18.8045 25.5494 18.9582 25.1784 18.9582 24.7917V8.75H21.8748V24.7917C21.8748 25.952 21.4139 27.0648 20.5934 27.8853C19.773 28.7057 18.6602 29.1667 17.4998 29.1667C16.3395 29.1667 15.2267 28.7057 14.4062 27.8853C13.5858 27.0648 13.1248 25.952 13.1248 24.7917V7.29167C13.1248 5.3578 13.8931 3.50313 15.2605 2.13568C16.628 0.768227 18.4826 0 20.4165 0Z"
                          fill="#444444"
                        />
                      </g>
                      <defs>
                        <clipPath id="clip0_651_16">
                          <rect width="35" height="35" fill="white" />
                        </clipPath>
                      </defs>
                    </svg>
                  </button>
                </span>
                <span className="preview-button">
                  <button onClick={Mail}>Preview</button>
                </span>

                <div className={`sendmail ${SendMail ? "send" : ""}`}>
                  <button>Send</button>
                </div>
              </div>
              <Preview></Preview>
            </div>
          </div>
        </div>
      </div>
    </>
  );
};
